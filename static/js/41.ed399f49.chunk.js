(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[41],{635:function(e,a,t){"use strict";var s=t(684),c=Object(s.a)("https://ctvjpxocqeajngziaxji.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYyMzE4Mjc3OSwiZXhwIjoxOTM4NzU4Nzc5fQ.pCQD8_U0cgWJtgLbOh90kUGpxpOmpwzDmsfwKzj7PwE");a.a=c},760:function(e,a,t){"use strict";t.r(a);for(var s,c=t(633),n=t.n(c),r=t(636),i=t(629),o=t(1),d=t(627),l=256,b=[];l--;)b[l]=(l+256).toString(16).substring(1);function u(e){var a=0,t=e||11;if(!s||l+t>512)for(s="",l=0;a<256;a++)s+=b[256*Math.random()|0];return s.substring(l,l+++t)}var j=t.p+"static/media/rice.254ced0f.svg",m=t.p+"static/media/salt-shaker.f62cae07.svg",x=t.p+"static/media/fish.3195f0f0.svg",f=t.p+"static/media/cow.876166aa.svg",h=t.p+"static/media/sugar.8ba29b27.svg",p=t.p+"static/media/forklift.4831d040.svg",k=t.p+"static/media/demand.be117d31.svg",O=t(19),g=t(161),v=t(635),w=t(20),y=function(e){var a=Object(O.g)(),t=Object(g.b)(),s=Object(g.c)((function(e){return e.komoditas})),c=[{nama:"Beras",svg:j,kode:"01",disabled:!1},{nama:"Garam",svg:m,kode:"02",disabled:!1},{nama:"Ikan",svg:x,kode:"03",disabled:!1},{nama:"Daging Lembu",svg:f,kode:"04",disabled:!1},{nama:"Gula",svg:h,kode:"05",disabled:!1}],l=[{nama:"Data Pasokan",svg:p,kode:"01"},{nama:"Data Kebutuhan",svg:k,kode:"02"}],b=Object(o.useState)(1),y=Object(i.a)(b,2),N=y[0],C=y[1],D=function(){var e=Object(r.a)(n.a.mark((function e(c){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.from("td_data").insert([{noaju:u(),kdKomoditas:s.kode,kdJenisData:c.kode,databarang:[],kd_status:"01",urKomoditas:s.nama,urJnsData:c.nama}]).then((function(e){t({type:"set",ajubaru:e.data}),t({type:"set",jnsdata:c}),a.push("/pasokankebutuhan/new")}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(w.jsxs)(d.eb,{style:{borderRadius:"20px",backgroundColor:"#FFF8D9",boxShadow:"0 2px 4px rgb(0 0 0 / 10%), 0 8px 16px rgb(0 0 0 / 10%)"},show:e.modal,onClose:function(){return e.callback()},children:[Object(w.jsx)(d.hb,{closeButton:!0,children:Object(w.jsx)("h4",{children:1===N?"Pilih Komoditas":"Pilih Jenis Data ("+s.nama+")"})}),Object(w.jsxs)(d.fb,{children:[Object(w.jsx)("div",{className:"d-flex flex-row flex-wrap justify-content-center",children:1===N?Object(w.jsx)(w.Fragment,{children:c.map((function(e){return Object(w.jsxs)("div",{className:e.disabled?"d-flex flex-column mr-3 ml-3 mt-2":"d-flex flex-column clickable mr-3 ml-3 mt-2",role:"button",onClick:function(){e.disabled||(t({type:"set",komoditas:e}),C(2))},children:[Object(w.jsx)("div",{style:{backgroundColor:"#A0937D",borderRadius:"20px",boxShadow:"0 2px 4px rgb(0 0 0 / 10%), 0 8px 16px rgb(0 0 0 / 10%)"},className:e.disabled?"px-3 py-3 disabled":"px-3 py-3",children:Object(w.jsx)("img",{src:e.svg,width:"80vw"})}),Object(w.jsx)("div",{className:"d-flex justify-content-center",children:Object(w.jsx)("p",{children:Object(w.jsx)("b",{children:e.nama})})})]})}))}):2===N?Object(w.jsx)(w.Fragment,{children:l.map((function(e){return Object(w.jsxs)("div",{className:"d-flex flex-column clickable mr-3 ml-3 mt-2",role:"button",onClick:function(){return D(e)},children:[Object(w.jsx)("div",{style:{backgroundColor:"#FF616D",borderRadius:"12px",boxShadow:"0 2px 4px rgb(0 0 0 / 10%), 0 8px 16px rgb(0 0 0 / 10%)"},className:"px-3 py-3",children:Object(w.jsx)("img",{src:e.svg,width:"80vw"})}),Object(w.jsx)("div",{className:"d-flex justify-content-center",children:Object(w.jsx)("p",{children:Object(w.jsx)("b",{children:e.nama})})})]})}))}):Object(w.jsx)(w.Fragment,{})}),2===N?Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("div",{className:"d-flex flex-row justify-content-start ml-2",children:Object(w.jsxs)(d.f,{style:{borderRadius:"12px"},onClick:function(){return C(1)},className:"btn btn-warning btn-sm",children:[Object(w.jsx)("i",{class:"fas fa-arrow-circle-left"})," Kembali"]})})}):Object(w.jsx)(w.Fragment,{})]})]})};a.default=function(){var e=Object(g.b)(),a=Object(O.g)(),t=Object(o.useState)(!1),s=Object(i.a)(t,2),c=s[0],l=s[1],b=Object(o.useState)([]),u=Object(i.a)(b,2),j=u[0],m=u[1];Object(o.useEffect)(Object(r.a)(n.a.mark((function e(){var a,t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.from("td_data").select("*");case 2:a=e.sent,t=a.data,a.error,m(t),console.log(j);case 7:case"end":return e.stop()}}),e)}))),[]);var x=function(){var t=Object(r.a)(n.a.mark((function t(s){var c,r,i;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(c=[]).push(s),(r={}).kode=s.kdKomoditas,r.nama=s.urKomoditas,(i={}).kode=s.kdJenisData,i.nama=s.urJnsData,e({type:"set",ajubaru:c}),e({type:"set",komoditas:r}),e({type:"set",jnsdata:i}),a.push("/pasokankebutuhan/new");case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(y,{modal:c,callback:function(){return l(!1)}}),Object(w.jsxs)("div",{className:"card px-3 py-3",style:{width:"100%",borderRadius:"18px",boxShadow:"0 2px 4px rgb(0 0 0 / 10%), 0 8px 16px rgb(0 0 0 / 10%)"},children:[Object(w.jsx)("div",{className:"d-flex flex-row justify-content-center align-items-center",style:{height:"100px"},children:Object(w.jsx)("h4",{children:"Riwayat Data Kebutuhan dan Pasokan"})}),Object(w.jsxs)("div",{className:"d-flex flex-row justify-content-end mr-1 mb-2",children:[Object(w.jsx)("div",{className:"mr-auto",children:Object(w.jsxs)(d.f,{style:{borderRadius:"12px",backgroundColor:"#606365",color:"white"},onClick:function(){return a.push("/")},className:"btn",children:[Object(w.jsx)("i",{class:"fa fa-chevron-left"})," Kembali"]})}),Object(w.jsx)("div",{className:"mr-3",children:Object(w.jsx)(d.Q,{style:{borderRadius:"12px",width:"20vw",backgroundColor:"#fafafc"},placeholder:"Search"})}),Object(w.jsx)("div",{children:Object(w.jsxs)(d.f,{style:{borderRadius:"12px",backgroundColor:"#20c997",color:"white"},onClick:function(){return l(!0)},className:"btn",children:[Object(w.jsx)("i",{class:"fas fa-plus-square"})," Tambah"]})})]}),Object(w.jsx)("div",{className:"mt-2 mx-3",children:Object(w.jsx)(d.y,{responsive:!0,items:j,fields:[{key:"nomor",label:"No",_style:{width:"5%"}},{key:"noaju",label:"Nomor AJU"},{key:"komoditas",label:"Komoditas"},{key:"jnsdata",label:"Jenis Data"},{key:"status",label:"Status"},{key:"action",label:"Action"}],scopedSlots:{jnsdata:function(e,a){var t;switch(e.kdJenisData){case"01":t="Pasokan";break;case"02":t="Kebutuhan"}return Object(w.jsx)("td",{children:t})},action:function(e,a){return Object(w.jsx)("td",{children:Object(w.jsx)(d.f,{onClick:function(){return x(e)},style:{borderRadius:"12px",backgroundColor:"#c8ced3",fontSize:".76562rem"},className:"btn btn-sm",children:Object(w.jsx)("i",{class:"fa fa-chevron-right"})})})},status:function(e,a){var t,s;switch(e.kd_status){case"01":t="Draft",s="success";break;case"02":t="Terkirim",s="info"}return Object(w.jsx)("td",{children:Object(w.jsx)(d.b,{color:s,children:t})})},nomor:function(e,a){return Object(w.jsx)("td",{children:a+1})},komoditas:function(e,a){var t;switch(e.kdKomoditas){case"01":t="Beras";break;case"02":t="Garam";break;case"03":t="Hasil Perikanan";break;case"04":t="Daging Lembu";break;case"05":t="Gula"}return Object(w.jsx)("td",{children:t})}}})})]})]})}}}]);
//# sourceMappingURL=41.ed399f49.chunk.js.map